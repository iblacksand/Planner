<!DOCTYPE html>
<html>
<title>iblacksand</title>

<xmp theme="simplex" style="display:none;">
[back](DelArchive)

#Deliverables for February 26
###From [FileEditor.java](https://github.com/iblacksand/advanced-planner/blob/master/file/FileEditor.java)

```java
package file;
    /**
    * writes the given arraylist to the file
    * @param ary the arraylist to write to the file
    */
    public void write(ArrayList<String> ary)
    {
        try
        {
            File f = new File(path);
            PrintWriter pw = new PrintWriter(new FileWriter(f));
            for(String str : ary)
            {
                pw.println(str);
            }
            pw.close();
            readFile();

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    public void editLine(int index) {
        System.out.println("line: " + file.get(index) + "\nDo You want to edit this line?");
        String input = in.nextLine().toLowerCase().trim();
        if (input.equals("y") || input.equals("yes"))
        {
            System.out.println("What do you want to change it too?");
            input = in.nextLine();
            String change = "";
            int length = input.length();
            if(length > file.get(index).length()) length = file.get(index).length();
            for(int i = 0; i < length; i++){
                if(input.substring(i,i+1).equals("*")) change += file.get(index).substring(i,i+1);
                else change += input.substring(i,i+1);
            }
            if(length != input.length())
            {
                for(int i = length; i < input.length(); i++)
                {
                    change += input.substring(i,i+1);
                }
            }
            file.set(index, change);
            write(file);
        }
    }
```

This does the basic functions of a file editor. There are more methods but this is a good snippet

###From [Script.java](https://github.com/iblacksand/advanced-planner/blob/master/file/Script.java)

```java
/**
*reads the file and puts it in an array
*/
public void readFile()
{
ArrayList<String> a = new ArrayList<String>();
String line = null;
try
{
FileReader fr = new FileReader(path);
BufferedReader br = new BufferedReader(fr);
for(int i = 0; i < textSize(); i++)
{
line = br.readLine();
if(line != null) a.add(line.trim());
else break;
}
br.close();
file = new String[a.size()];
for(int i = 0; i < file.length; i++)
{
file[i] = a.get(i);
}
}
catch(FileNotFoundException ex) {
System.out.println(
"Unable to open file '" +
path + "'");
}
catch(IOException ex) {
System.out.println(
"Error reading file '"
+ path + "'");
}
}
```

This can read the file and put it in an array. Other methods figure out which parts are which

###From [AdvancedPlanner.java](https://github.com/iblacksand/advanced-planner/blob/master/main/AdvancedPlanner.java)

```java
/**
* runs a program
* @param props the properties of the program
* @param objs the name of the program
*/
public static void run(String[] props, String[] objs)
{
if(contains(props,"f") && failures > 0)
{
System.out.println("Error! Fragile with " + failures + "failures");
}
else
{
String full = combine(objs,true,false);
try{
ProcessBuilder pb = new ProcessBuilder(combine(objs,true,false));
Process p = pb.start();
}
catch(Exception e)
{
failures++;
}
}
}
```

This will run a cmd command or run a program

```java
public static void display(String[] props, String[] objs)
{
for (String obj : objs) {
System.out.println(obj);
}
}
```

This will display the text given. This will change when the gui is implemented

```java
/**
     *the method that loops the code for the specified amount
     *@param props the properties of the loop
     *@param object array holding the information of the loop
     */
    public static void loop(String[] props,String[] object)
    {
        file.toLine(file.currentLine() + 2);
        int startLine = file.currentLine();
        int loopEnd = startLine;
        for(int i = startLine; i < file.length(); i++)
        {
            String str = file.fullLine();
            if(str.equals("}")) break;
            else loopEnd++;
        }
        for(int i = 0; i < Integer.parseInt(object[1]); i++)
        {
            for(int p = startLine; p < loopEnd; p++)
            {
                runCommand(p - 1);
            }
        }
        file.toLine(loopEnd + 1);
    }
```

This will loop the code for the specified amount. This is a basic version and the time between is not implemented.

##From [/tester](https://github.com/iblacksand/advanced-planner/tree/master/tester)

```java
package tester;

import file.FileEditor;
/**
 * Created by John Elizarraras on 2/27/2016.
 */
public class FileEditorTester {

    /**
     * tests the file editor class
     * @param args not used
     */
    public static void main(String[] args){
        String path = "example.txt";
        FileEditor fe = new FileEditor(path);
        fe.addLine();
        fe.insertLine();
        fe.addLine();
    }
}
```
This tests the FileEditor for everything that is is capable of

```java
public static void standard(String path)
    {
        Script file = new Script(path);
        for(int i = 0; i < file.fileSize(); i++)
        {
            System.out.println("starting test:");
            String c = file.command();
            String[] p = file.properties();
            String[] o = file.object();
            System.out.println(c);
            for (String aP : p) {
                System.out.println(aP);
            }
            for (String anO : o) {
                System.out.println(anO);
            }
            file.nextLine();
        }
    }
```

This does a standard test for the script.java

```java
package tester;
import main.AdvancedPlanner;
public class CommandTest {
    /**
     * does a test of the example.sc file
     * @param args not used
     */
    public static void main(String[] args)
    {
        String[] a = {"example.sc"};
         AdvancedPlanner.main(a);
    }
}
```

This will run the example.txt to test different commands

</xmp>

<script src="http://strapdownjs.com/v/0.2/strapdown.js"></script>
</html>
